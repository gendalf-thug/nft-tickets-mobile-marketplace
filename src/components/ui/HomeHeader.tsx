import React from 'react'

import {StyleSheet, TouchableOpacity, View} from 'react-native'
import {useSafeAreaInsets} from 'react-native-safe-area-context'
import Svg, {Defs, G, Path, Rect, SvgProps} from 'react-native-svg'
import Ionicons from 'react-native-vector-icons/Ionicons'

import {useTheme} from 'src/hooks'
import {Color} from 'src/themeTypes'

import {Spacer, Text} from '.'

interface HomeHeaderProps {
  onPressSearch?: () => void
  onPressScan?: () => void
}

export function HomeHeader({onPressSearch, onPressScan}: HomeHeaderProps) {
  const {colors} = useTheme()
  const {top} = useSafeAreaInsets()

  return (
    <>
      <Spacer height={top} />
      <View style={styles.rowContainer}>
        <View style={styles.logoContainer}>
          <HeaderLogo width={60} height={50} />
          <Spacer width={12} />
          <Text h2 color={Color.textBase1}>
            NFT Tickets
          </Text>
        </View>
        <View style={styles.rightButtons}>
          <TouchableOpacity onPress={onPressSearch} activeOpacity={0.7}>
            <Ionicons color={colors.primary} name="search" size={26} />
          </TouchableOpacity>
          <Spacer width={12} />
          <TouchableOpacity onPress={onPressScan} activeOpacity={0.7}>
            <Ionicons color={colors.primary} name="scan" size={26} />
          </TouchableOpacity>
        </View>
      </View>
    </>
  )
}

function HeaderLogo(props: SvgProps) {
  const {colors} = useTheme()
  return (
    <Svg width={61} height={50} fill="none" {...props}>
      <Rect x={0.649} width={60} height={50} rx={8} fill={colors.card} />
      <G filter="url(#a)">
        <Path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M47.185 11H6.845a.48.48 0 0 0-.48.481v4.812c0 .823.543 1.523 1.233 1.973 2.059 1.342 2.055 3.611 2.05 6.267v.784c.005 2.667.009 5.04-2.053 6.41-.686.457-1.23 1.156-1.23 1.98v4.811c0 .265.215.48.48.48h6.309l1.248.002 32.787-.001h7.264a.48.48 0 0 0 .48-.481v-4.811c0-.824-.544-1.522-1.23-1.979-1.976-1.318-1.965-3.542-1.953-6.104l.002-.624c0-.21 0-.419-.002-.625-.012-2.562-.023-4.786 1.953-6.104.686-.457 1.23-1.155 1.23-1.979v-4.81a.48.48 0 0 0-.48-.481L48.456 11h-1.271Zm1.271 0c.102.124.077.282.077.455a.716.716 0 0 1-1.433 0c0-.173-.016-.331.085-.455h1.271Zm-.018 27.999c.101-.124.095-.282.095-.454a.716.716 0 0 0-1.433 0c0 .172-.012.33.09.454h1.248ZM14.402 39c.101-.124.088-.283.088-.455a.716.716 0 0 0-1.433 0c0 .172-.005.33.097.454l1.248.001Zm-1.267-28c-.101.124-.078.282-.078.455a.716.716 0 0 0 1.433 0c0-.173.018-.331-.083-.455h-1.272Zm35.398 2.539a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.433.716.716 0 0 0 0 1.433Zm.716 1.367a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.432Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.433.716.716 0 0 0 0 1.433Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.433.716.716 0 0 0 0 1.433Zm.716 1.367a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.433Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.432ZM14.49 13.538a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.433Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.432Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.433.716.716 0 0 0 0 1.433Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.433.716.716 0 0 0 0 1.433Zm.716 1.367a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.433Zm.716 1.368a.716.716 0 1 1-1.433 0 .716.716 0 0 1 1.433 0Zm-.716 2.8a.716.716 0 1 0 0-1.432.716.716 0 0 0 0 1.432Z"
          fill="#0B0629"
        />
      </G>
      <Path
        d="M30.407 27.923V29.7l.215-.14.215.14v-1.778l-.215.14-.215-.14ZM28.293 31.821l-.016-.01.015.011v2.166l2.115 1.379V33.2l-2.114-1.383v.003ZM30.622 30.076l-2.108 1.374 2.108 1.379 2.13-1.368-2.13-1.385ZM30.837 35.367l2.119-1.379v-2.145l-2.119 1.36v2.164ZM23.46 21.7l-2.115-1.383v2.168l2.114 1.381V21.7ZM25.793 19.952l-2.118-1.377-2.11 1.374 2.11 1.38 2.118-1.377ZM23.89 23.866l2.118-1.38v-2.162L23.89 21.7v2.166ZM35.287 29.863l2.115 1.38v-2.165L35.287 27.7v2.163ZM37.832 31.243l2.118-1.38V27.71l-2.118 1.37v2.163ZM37.617 25.953l-2.113 1.375 2.113 1.377 2.124-1.372-2.124-1.38ZM30.622 22.117 28.5 23.5l2.123 1.37 2.141-1.36-2.142-1.392ZM30.837 27.408l2.119-1.38v-2.13l-2.119 1.348v2.162ZM30.407 25.244l-2.114-1.366v2.15l2.114 1.38v-2.164ZM30.838 20.065l2.118-1.378v-2.093l-2.118 1.314v2.157ZM32.794 16.187l-2.172-1.413-2.11 1.376 2.11 1.378 2.172-1.34ZM30.407 17.901l-2.114-1.38v2.166l2.114 1.378v-2.164ZM23.675 25.953l-2.118 1.378 2.119 1.374 2.119-1.375-2.12-1.377ZM21.345 29.863l2.115 1.38V29.08l-2.115-1.372v2.155ZM23.89 31.243l2.118-1.38v-2.159l-2.117 1.375v2.164ZM23.46 24.296v1.282l.215-.14.215.14v-1.282l-.215.14-.215-.14ZM37.41 25.578l.214-.14.215.14v-1.282l-.215.14-.215-.14v1.282ZM34.861 19.58l-1.475-.876v.215l-.228.148 1.703 1.011v-.499ZM26.25 19.734l.189.123v.267l1.665-1.048-.241-.157v-.198l-1.613 1.013ZM35.245 30.385c-.002 0-.002 0 0 0ZM35.274 30.366l-.398-.258-1.733 1.095.008.004.235.153v.204c1.434-.91 1.799-1.14 1.872-1.188l-.008.005.024-.015ZM35.274 30.366c.001 0 .001 0 0 0Z"
        fill="#E535AB"
      />
      <Path
        d="M35.25 30.381a.068.068 0 0 1-.005.003l.005-.003ZM26.438 30.095l-.28.183 1.597 1.152.107.08v-.148l.26-.17.018-.013-1.702-1.233v.149ZM26.31 17.827l.222.37-.37.22-.22-.369.369-.22ZM25.572 18.27l.221.368-.369.221-.22-.369.368-.22ZM27.049 17.385l.22.37-.368.22-.221-.369.369-.22ZM34.815 17.827l.37.221-.222.37-.369-.222.221-.369ZM35.554 18.269l.369.221-.221.37-.37-.222.222-.369ZM34.076 17.385l.37.221-.221.37-.37-.222.221-.369ZM35.044 22.838l-.183-.12v-.27l-1.66.831.185.12v.27l1.658-.83ZM26.438 22.717l-.191.125 1.615.824V23.4l.187-.122-1.61-.822v.26ZM37.405 21.7l-2.114-1.383v2.168l2.114 1.381V21.7ZM37.62 21.328l2.119-1.376-2.119-1.377-2.11 1.374 2.11 1.38ZM37.835 21.7v2.166l2.119-1.38v-2.162L37.835 21.7Z"
        fill="#E535AB"
      />
      <Defs />
    </Svg>
  )
}

const styles = StyleSheet.create({
  rowContainer: {
    flexDirection: 'row',
    width: '100%',
    alignItems: 'center',
    justifyContent: 'space-between',
    paddingHorizontal: 16,
    paddingVertical: 6,
    marginTop: 23,
  },
  logoContainer: {
    flexDirection: 'row',
    alignItems: 'center',
  },
  rightButtons: {
    flexDirection: 'row',
  },
})
